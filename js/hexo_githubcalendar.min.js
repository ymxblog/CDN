var github_canlendar=(t,e)=>{function n(){function t(t,e){var n=t.getBoundingClientRect(),r=e.clientX-n.left*(t.width/n.width),s=e.clientY-n.top*(t.height/n.height);for(var c of m){var p=r-c.x,u=s-c.y;0<p&&p<g&&0<u&&u<g&&(l=c.date,d=c.count,a=e.clientX-100,o=e.clientY-60,html=C(a,o,l,d),append_div_gitcalendar(i,html))}}var n=window.devicePixelRatio||1,i=document.getElementById("git_tooltip_container"),a="",o="",l="",d="",r=document.getElementById("gitcanvas");r.style.width="100%",r.style.height="";document.getElementById("gitmessage");var s=r.getContext("2d");width=r.width=document.getElementById("gitcalendarcanvasbox").offsetWidth,height=r.height=8.64*r.width/git_data.length,T(r,s,n);var p=height/9,g=.8*p,u={x:.02*width,y:.025*width};for(var x in git_data){for(var f in weekdata=git_data[x],weekdata){var h={date:"",count:"",x:0,y:0};m.push(h),s.fillStyle=I(e,weekdata[f].count),u.y=Math.round(100*u.y)/100,h.date=weekdata[f].date,h.count=weekdata[f].count,h.x=u.x,h.y=u.y,s.fillRect(u.x,u.y,g,g),u.y=u.y+p}u.y=.025*width,u.x=u.x+p}if(document.body.clientWidth>700){s.font="600  Arial",s.fillStyle="#aaa",s.fillText("日",0,1.9*p),s.fillText("二",0,3.9*p),s.fillText("四",0,5.9*p),s.fillText("六",0,7.9*p);var b=width/24;for(var v in c)s.fillText(c[v],b,.7*p),b+=width/12}r.onmousemove=function(e){document.querySelector(".gitmessage")&&(i.innerHTML=""),t(r,e)},i.onmousemove=function(t){document.querySelector(".gitmessage")&&(i.innerHTML="")}}function i(){0===_?(o(52),o(51),o(50),o(49),o(48),w+=k[6].count,u=k[6].date):(o(52),o(51),o(50),o(49),a(),u=z[_-1].date)}function a(){for(var t=_-1;t<z.length;t++)w+=z[t].count}function o(t){for(var e of git_data[t])w+=e.count}function l(){for(var t of v)f+=t.count}function d(){for(var t=_;t<y.length;t++)f+=y[t].count}function r(t){6===_?(x=v[0].date,l()):(lastweek=t.contributions[51],x=lastweek[_+1].date,l(),d())}var s=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],c=[],p="",g="",u="",x="",f=0,h=0,m=[],b=[],v=[],y=[],w=0,_=0,k=[],z=[],B=[],E=0,T=(t,e,n)=>{if(n>1){var i=t.width,a=t.height;t.width=i*n,t.height=a*n,t.style.width="100%",t.style.height=a+"px",e.scale(n,n)}};fetch("https://daily.api.418121.xyz/api/?user="+t).then(t=>t.json()).then(a=>{git_data=a.contributions,h=a.total,z=git_data[48],k=git_data[47],b=a.contributions[0],v=a.contributions[52],y=a.contributions[51],_=v.length-1,g=v[_].date,p=b[0].date,E=1*g.substring(5,7),B=s.splice(E,12-E),c=B.concat(s),r(a),i();var o=S(c,git_data,t,e,h,w,f,p,g,x,u);append_div_gitcalendar(github_container,o),document.getElementById("github_loading")&&document.getElementById("github_loading").remove(),n()}).catch(function(t){console.log(t)}),window.addEventListener("resize",function(){document.getElementById("gitcanvas")&&n()}),window.addEventListener("scroll",function(){document.querySelector(".gitmessage")&&(git_tooltip_container.innerHTML="")});var I=(t,e)=>{if(0===e){parseInt(e/2);return t[0]}return e<2?t[1]:e<20?t[parseInt(e/2)]:t[9]},C=(t,e,n,i)=>{var a="";return a+'<div class="gitmessage" style="top:'+e+"px;left:"+t+'px;position: fixed;z-index:9999"><div class="angle-wrapper" style="display:block;"><span>'+n+"&nbsp;</span><span>"+i+" 次上传</span></div></div>"},L=()=>{return'<div id="gitcalendarcanvasbox"> <canvas id="gitcanvas" style="animation: none;"></canvas></div>'},M=(t,e)=>{var n="";return n+'<div id="git_tooltip_container"></div><div class="contrib-footer clearfix mt-1 mx-3 px-3 pb-1"><div class="float-left text-gray">数据来源 <a href="https://github.com/'+t+'" target="blank">@'+t+'</a></div><div class="contrib-legend text-gray">Less <ul class="legend"><li style="background-color:'+e[0]+'"></li><li style="background-color:'+e[2]+'"></li><li style="background-color:'+e[4]+'"></li><li style="background-color:'+e[6]+'"></li><li style="background-color:'+e[8]+'"></li></ul>More </div></div>'},S=(t,e,n,i,a,o,l,d,r,s,c)=>{var p="";return p+='<div class="position-relative"><div class="border py-2 graph-before-activity-overview"><div class="js-gitcalendar-graph mx-md-2 mx-3 d-flex flex-column flex-items-end flex-xl-items-center overflow-hidden pt-1 is-graph-loading graph-canvas gitcalendar-graph height-full text-center">'+L()+"</div>"+M(n,i)+"</div></div>",p+'<div style="display:flex;width:100%"><div class="contrib-column contrib-column-first table-column"><span class="text-muted">过去一年提交</span><span class="contrib-number">'+a+'</span><span class="text-muted">'+d+"&nbsp;-&nbsp;"+r+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一月提交</span><span class="contrib-number">'+o+'</span><span class="text-muted">'+c+"&nbsp;-&nbsp;"+r+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一周提交</span><span class="contrib-number">'+l+'</span><span class="text-muted">'+s+"&nbsp;-&nbsp;"+r+"</span></div></div>"+H()},H=()=>(style='<style>#github_container{text-align:center;margin:0 auto;width:100%;display:flex;display:-webkit-flex;justify-content:center;align-items:center;flex-wrap:wrap;}.gitcalendar-graph text.wday,.gitcalendar-graph text.month{font-size:10px;fill:#aaa;}.contrib-legend{text-align:right;padding:0 14px 10px 0;display:inline-block;float:right;}.contrib-legend .legend{display:inline-block;list-style:none;margin:0 5px;position:relative;bottom:-1px;padding:0;}.contrib-legend .legend li{display:inline-block;width:10px;height:10px;}.text-small{font-size:12px;color:#767676;}.gitcalendar-graph{padding:15px 0 0;text-align:center;}.contrib-column{text-align:center;border-left:1px solid #ddd;border-top:1px solid #ddd;font-size:11px;}.contrib-column-first{border-left:0;}.table-column{padding:10px;display:table-cell;flex:1;vertical-align:top;}.contrib-number{font-weight:300;line-height:1.3em;font-size:24px;display:block;}.gitcalendar img.spinner{width:70px;margin-top:50px;min-height:70px;}.monospace{text-align:center;color:#000;font-family:monospace;}.monospace a{color:#1D75AB;text-decoration:none;}.contrib-footer{font-size:11px;padding:0 10px 12px;text-align:left;width:100%;box-sizing:border-box;height:26px;}.left.text-muted{float:left;margin-left:9px;color:#767676;}.left.text-muted a{color:#4078c0;text-decoration:none;}.left.text-muted a:hover,.monospace a:hover{text-decoration:underline;}h2.f4.text-normal.mb-3{display:none;}.float-left.text-gray{float:left;}#user-activity-overview{display:none;}.day-tooltip{white-space:nowrap;position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.85);border-radius:3px;display:none;pointer-events:none;}.day-tooltip strong{color:#dfe2e5;}.day-tooltip.is-visible{display:block;}.day-tooltip:after{position:absolute;bottom:-10px;left:50%;width:5px;height:5px;box-sizing:border-box;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.85)}.position-relative{width:100%;}@media screen and (max-width:650px){.contrib-column{display:none}}.angle-wrapper{z-index:9999;display:inline;width:200px;height:40px;position:relative;padding:5px 0;background:rgba(0,0,0,0.8);border-radius:8px;text-align:center;color:white;}.angle-box{position:fixed;padding:10px}.angle-wrapper span{padding-bottom:1em;}.angle-wrapper:before{content:"";width:0;height:0;border:10px solid transparent;border-top-color:rgba(0,0,0,0.8);position:absolute;left:47.5%;top:100%;}</style>',style)},append_div_gitcalendar=(t,e)=>{if("string"==typeof e){var n=document.createElement("div");n.innerHTML=e;for(var i=document.createDocumentFragment();n.firstChild;)i.appendChild(n.firstChild);t.appendChild(i)}else t.appendChild(e)},loading_git=t=>(loading='<div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="'+t+'" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div>',loading);!function(){var t="yeminxi",e=document.getElementById("github_container"),n=(document.getElementById("github_loading"),["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"]);e?(append_div_gitcalendar(e,loading_git(n[4])),github_canlendar(t,n)):console.log("nonono")}();
